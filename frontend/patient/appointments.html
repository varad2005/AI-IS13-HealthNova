<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Appointments - Health Nova</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Poppins', sans-serif; background: #f8f9fa; }
        .navbar { background: white; box-shadow: 0 2px 8px rgba(0,0,0,0.05); padding: 1rem 0; }
        .content-wrapper { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        .appointment-card { background: white; border-radius: 12px; padding: 25px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border-left: 5px solid #1e88e5; }
        .appointment-card.past { border-left-color: #9e9e9e; opacity: 0.7; }
        .doctor-avatar { width: 60px; height: 60px; border-radius: 50%; background: #e3f2fd; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: #1e88e5; }
        .btn-action { padding: 8px 20px; border-radius: 20px; border: none; }
        .btn-primary-action { background: #1e88e5; color: white; }
        .btn-danger-action { background: #ef5350; color: white; }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a class="navbar-brand text-primary fw-bold" href="dashboard.html">
                <i class="bi bi-arrow-left me-2"></i> Back to Dashboard
            </a>
            <button class="btn btn-primary" onclick="location.href='booking.html'">
                <i class="bi bi-plus-lg me-1"></i> New Appointment
            </button>
        </div>
    </nav>

    <div class="content-wrapper">
        <h2 class="mb-4"><i class="bi bi-calendar-event text-primary me-2"></i>My Appointments</h2>

        <ul class="nav nav-tabs mb-4">
            <li class="nav-item">
                <a class="nav-link active" href="#" onclick="showTab('upcoming')">Upcoming</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" onclick="showTab('past')">Past</a>
            </li>
        </ul>

        <div id="upcomingTab">
            <!-- Upcoming appointments -->
        </div>

        <div id="pastTab" style="display: none;">
            <!-- Past appointments -->
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const appointments = {
            upcoming: [
                { id: 1, doctor: 'Dr. Priya Sharma', specialty: 'General Physician', date: '2026-01-30', time: '10:00 AM', type: 'Video Consultation', status: 'Confirmed' },
                { id: 2, doctor: 'Dr. Rajesh Kumar', specialty: 'Cardiologist', date: '2026-02-05', time: '2:30 PM', type: 'In-Person', status: 'Confirmed' }
            ],
            past: [
                { id: 3, doctor: 'Dr. Anjali Verma', specialty: 'Dermatologist', date: '2026-01-20', time: '11:00 AM', type: 'Video Consultation', status: 'Completed' },
                { id: 4, doctor: 'Dr. Suresh Patel', specialty: 'Orthopedic', date: '2026-01-15', time: '3:00 PM', type: 'In-Person', status: 'Completed' }
            ]
        };

        function renderAppointments(type) {
            const container = document.getElementById(type === 'upcoming' ? 'upcomingTab' : 'pastTab');
            const list = appointments[type];

            container.innerHTML = list.map(apt => `
                <div class="appointment-card ${type === 'past' ? 'past' : ''}">
                    <div class="row align-items-center">
                        <div class="col-auto">
                            <div class="doctor-avatar">
                                <i class="bi bi-person"></i>
                            </div>
                        </div>
                        <div class="col">
                            <h5 class="mb-1">${apt.doctor}</h5>
                            <p class="text-muted mb-1">${apt.specialty}</p>
                            <div>
                                <span class="badge bg-info me-2">${apt.type}</span>
                                <span class="badge bg-success">${apt.status}</span>
                            </div>
                        </div>
                        <div class="col-auto text-end">
                            <div class="mb-2">
                                <i class="bi bi-calendar me-2"></i><strong>${apt.date}</strong>
                            </div>
                            <div class="mb-3">
                                <i class="bi bi-clock me-2"></i>${apt.time}
                            </div>
                            ${type === 'upcoming' ? `
                                <button class="btn-action btn-primary-action me-2" onclick="joinAppointment(${apt.id})">
                                    <i class="bi bi-camera-video me-1"></i> Join
                                </button>
                                <button class="btn-action btn-danger-action" onclick="cancelAppointment(${apt.id})">
                                    Cancel
                                </button>
                            ` : `
                                <button class="btn-action btn-primary-action" onclick="viewDetails(${apt.id})">
                                    View Details
                                </button>
                            `}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function showTab(type) {
            document.getElementById('upcomingTab').style.display = type === 'upcoming' ? 'block' : 'none';
            document.getElementById('pastTab').style.display = type === 'past' ? 'block' : 'none';
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');
        }

        function joinAppointment(id) {
            alert('Starting video consultation...');
            window.location.href = 'video-call.html';
        }

        function cancelAppointment(id) {
            if (confirm('Are you sure you want to cancel this appointment?')) {
                alert('Appointment cancelled successfully');
                location.reload();
            }
        }

        function viewDetails(id) {
            alert('Viewing appointment details...');
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderAppointments('upcoming');
            renderAppointments('past');
        });
    </script>
</body>
</html>
